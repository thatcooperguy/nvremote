appId: com.crazystream.client
productName: CrazyStream
copyright: Copyright (c) CrazyStream

# Prevent electron-builder from running its own npm install during packaging.
# In npm workspace setups, this step restructures node_modules and deletes
# app-builder-bin, causing spawn ENOENT failures.
npmRebuild: false

directories:
  buildResources: build
  output: release

files:
  - dist-electron/**/*
  - dist/**/*
  - "!node_modules/**/*"

win:
  target:
    - target: nsis
      arch:
        - x64
  icon: build/icon.ico
  artifactName: "CrazyStream-${version}-Setup.${ext}"
  publisherName: CrazyStream

nsis:
  oneClick: false
  perMachine: true
  allowToChangeInstallationDirectory: true
  deleteAppDataOnUninstall: false
  installerIcon: build/icon.ico
  uninstallerIcon: build/icon.ico
  installerHeaderIcon: build/icon.ico
  createDesktopShortcut: true
  createStartMenuShortcut: true
  shortcutName: CrazyStream

protocols:
  name: CrazyStream Protocol
  schemes:
    - crazystream

extraResources:
  - from: resources/
    to: resources/
    filter:
      - "**/*"

publish:
  provider: generic
  url: https://github.com/thatcooperguy/nvstreamer/releases/latest
